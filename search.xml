<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>时间工具类</title>
      <link href="/2019/01/04/%E6%97%B6%E9%97%B4%E5%B7%A5%E5%85%B7%E7%B1%BB/"/>
      <url>/2019/01/04/%E6%97%B6%E9%97%B4%E5%B7%A5%E5%85%B7%E7%B1%BB/</url>
      
        <content type="html"><![CDATA[<p>这段时间在公司中做公司的项目，期间用了时间相关处理类，但是一直都是东写一点西写一点，算了找个时间来写一个关于时间的工具类。</p><p>java.util 包提供了 Date 类来封装当前的日期和时间。 Date 类提供两个构造函数来实例化 Date 对象。</p><h2 id="不同类型的时间-相互转化"><a href="#不同类型的时间-相互转化" class="headerlink" title="不同类型的时间 相互转化"></a>不同类型的时间 相互转化</h2><p>主要是<code>Data</code>、<code>long</code> 、<code>String</code> 之间的转化</p><h3 id="转换为String类型"><a href="#转换为String类型" class="headerlink" title="转换为String类型"></a>转换为String类型</h3><h4 id="date类型转换为String类型"><a href="#date类型转换为String类型" class="headerlink" title="date类型转换为String类型"></a><code>date</code>类型转换为<code>String</code>类型</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">longToString</span><span class="params">(<span class="keyword">long</span> currentTime, String formatType)</span></span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> ParseException </span>&#123;</span><br><span class="line">    Date date = longToDate(currentTime, formatType);</span><br><span class="line">    String strTime = dateToString(date, formatType);</span><br><span class="line">    <span class="keyword">return</span> strTime;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="long类型转换为String类型"><a href="#long类型转换为String类型" class="headerlink" title="long类型转换为String类型"></a><code>long</code>类型转换为<code>String</code>类型</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">longToString</span><span class="params">(<span class="keyword">long</span> currentTime, String formatType)</span></span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> ParseException </span>&#123;</span><br><span class="line">    Date date = longToDate(currentTime, formatType);</span><br><span class="line">    String strTime = dateToString(date, formatType);</span><br><span class="line">    <span class="keyword">return</span> strTime;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="转换为date类型"><a href="#转换为date类型" class="headerlink" title="转换为date类型"></a>转换为<code>date</code>类型</h3><h4 id="string类型转换为date类型"><a href="#string类型转换为date类型" class="headerlink" title="string类型转换为date类型"></a><code>string</code>类型转换为<code>date</code>类型</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Date <span class="title">stringToDate</span><span class="params">(String strTime, String formatType)</span></span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> ParseException </span>&#123;</span><br><span class="line">    SimpleDateFormat formatter = <span class="keyword">new</span> SimpleDateFormat(formatType);</span><br><span class="line">    Date date = <span class="keyword">null</span>;</span><br><span class="line">    date = formatter.parse(strTime);</span><br><span class="line">    <span class="keyword">return</span> date;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="long转换为Date类型"><a href="#long转换为Date类型" class="headerlink" title="long转换为Date类型"></a><code>long</code>转换为<code>Date</code>类型</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Date <span class="title">longToDate</span><span class="params">(<span class="keyword">long</span> currentTime, String formatType)</span></span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> ParseException </span>&#123;</span><br><span class="line">    Date dateOld = <span class="keyword">new</span> Date(currentTime);</span><br><span class="line">    String sDateTime = dateToString(dateOld, formatType);</span><br><span class="line">    Date date = stringToDate(sDateTime, formatType);</span><br><span class="line">    <span class="keyword">return</span> date;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="转换为long类型"><a href="#转换为long类型" class="headerlink" title="转换为long类型"></a>转换为<code>long</code>类型</h3><h4 id="string类型转换为long类型"><a href="#string类型转换为long类型" class="headerlink" title="string类型转换为long类型"></a><code>string</code>类型转换为<code>long</code>类型</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">long</span> <span class="title">stringToLong</span><span class="params">(String strTime, String formatType)</span></span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> ParseException </span>&#123;</span><br><span class="line">    Date date = stringToDate(strTime, formatType);</span><br><span class="line">    <span class="keyword">if</span> (date == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">long</span> currentTime = dateToLong(date);</span><br><span class="line">        <span class="keyword">return</span> currentTime;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="date类型转换为long类型"><a href="#date类型转换为long类型" class="headerlink" title="date类型转换为long类型"></a><code>date</code>类型转换为<code>long</code>类型</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">long</span> <span class="title">dateToLong</span><span class="params">(Date date)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> date.getTime();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>接下来就是一些常见对于时间的操作</p><h2 id="返回String类型的时间字符串"><a href="#返回String类型的时间字符串" class="headerlink" title="返回String类型的时间字符串"></a>返回<code>String</code>类型的时间字符串</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getCurrentTimeStr</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> getCurrentTimeStr(<span class="string">"yyyy-MM-dd HH:mm:ss"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getCurrentTimeYear</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> getCurrentTimeStr(<span class="string">"yyyy-MM-dd"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getCurrentTimeStrHour</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> getCurrentTimeStr(<span class="string">"HH:mm:ss"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getCurrentTimeStr</span><span class="params">(String custom)</span> </span>&#123;</span><br><span class="line">    Calendar curCalendar = Calendar.getInstance();</span><br><span class="line">    DateFormat df = <span class="keyword">new</span> SimpleDateFormat(custom);</span><br><span class="line">    <span class="keyword">return</span> df.format(curCalendar.getTime());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="将时间戳转成格式化时间返回String"><a href="#将时间戳转成格式化时间返回String" class="headerlink" title="将时间戳转成格式化时间返回String"></a>将时间戳转成格式化时间返回<code>String</code></h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getFormatTime</span><span class="params">(<span class="keyword">long</span> milliseconds)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> getFormatTime(milliseconds,<span class="string">"yyyy-MM-dd HH:mm:ss"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getFormatTimeYear</span><span class="params">(<span class="keyword">long</span> milliseconds)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> getFormatTime(milliseconds,<span class="string">"yyyy-MM-dd"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getFormatTimeHour</span><span class="params">(<span class="keyword">long</span> milliseconds)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> getFormatTime(milliseconds,<span class="string">"HH:mm:ss"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getFormatTime</span><span class="params">(<span class="keyword">long</span> milliseconds,String custom)</span> </span>&#123;</span><br><span class="line">    SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat(custom);</span><br><span class="line">    <span class="keyword">return</span> sdf.format(<span class="keyword">new</span> Date(milliseconds));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="返回文字描述的日期"><a href="#返回文字描述的日期" class="headerlink" title="返回文字描述的日期"></a>返回文字描述的日期</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getTimeFormatText</span><span class="params">(<span class="keyword">long</span> date)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (date == <span class="number">0</span>) <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    date = date * <span class="number">1000</span>;</span><br><span class="line">    <span class="keyword">long</span> diff = <span class="keyword">new</span> Date().getTime() - date;</span><br><span class="line">    <span class="keyword">long</span> r = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (diff &gt; year) &#123; r = (diff / year); <span class="keyword">return</span> r + <span class="string">"年前"</span>; &#125;</span><br><span class="line">    <span class="keyword">if</span> (diff &gt; month) &#123; r = (diff / month);<span class="keyword">return</span> r + <span class="string">"月前"</span>; &#125;</span><br><span class="line">    <span class="keyword">if</span> (diff &gt; day) &#123; r = (diff / day);<span class="keyword">return</span> r + <span class="string">"天前"</span>; &#125;</span><br><span class="line">    <span class="keyword">if</span> (diff &gt; hour) &#123; r = (diff / hour);<span class="keyword">return</span> r + <span class="string">"小时前"</span>; &#125;</span><br><span class="line">    <span class="keyword">if</span> (diff &gt; minute) &#123; r = (diff / minute);<span class="keyword">return</span> r + <span class="string">"分钟前"</span>; &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"刚刚"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="计算两个日期之间相差的天数"><a href="#计算两个日期之间相差的天数" class="headerlink" title="计算两个日期之间相差的天数"></a>计算两个日期之间相差的天数</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">daysBetween</span><span class="params">(Date date1, Date date2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">boolean</span> result = date1.before(date2);<span class="comment">//对比时间的前后</span></span><br><span class="line">    Date sdate,bdate;</span><br><span class="line">    <span class="keyword">if</span>(result==<span class="keyword">true</span>)&#123;</span><br><span class="line">        sdate = date2;bdate = date1;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        sdate = date1;bdate = date2;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> days = (<span class="keyword">int</span>) ((sdate.getTime() - bdate.getTime()) / (<span class="number">1000</span>*<span class="number">3600</span>*<span class="number">24</span>));</span><br><span class="line">    <span class="keyword">return</span> days;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="获取分秒格式化字符串"><a href="#获取分秒格式化字符串" class="headerlink" title="获取分秒格式化字符串"></a>获取分秒格式化字符串</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getFormatMiniteSecString</span><span class="params">(<span class="keyword">int</span> time)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> second = time % <span class="number">60</span>;</span><br><span class="line">    <span class="keyword">int</span> minute = time / <span class="number">60</span>;</span><br><span class="line">    <span class="keyword">int</span> hour = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (minute &gt;= <span class="number">60</span>) &#123;</span><br><span class="line">        hour = minute / <span class="number">60</span>;</span><br><span class="line">        minute = minute % <span class="number">60</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    String timeString = <span class="string">""</span>;</span><br><span class="line">    String secondString = <span class="string">""</span>;</span><br><span class="line">    String minuteString = <span class="string">""</span>;</span><br><span class="line">    String hourString = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">if</span> (second &lt; <span class="number">10</span>) &#123;</span><br><span class="line">        secondString = <span class="string">"0"</span> + second;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        secondString = second + <span class="string">""</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (minute &lt; <span class="number">10</span>) &#123;</span><br><span class="line">        minuteString = <span class="string">"0"</span> + minute;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        minuteString = minute + <span class="string">""</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (hour &lt; <span class="number">10</span>) &#123;</span><br><span class="line">        hourString = <span class="string">"0"</span> + hour;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        hourString = hour + <span class="string">""</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (hour != <span class="number">0</span>) &#123;</span><br><span class="line">        timeString = hourString + <span class="string">":"</span> + minuteString + <span class="string">":"</span> + secondString;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        timeString = minuteString + <span class="string">":"</span> + secondString;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> timeString;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="判断选择的日期"><a href="#判断选择的日期" class="headerlink" title="判断选择的日期"></a>判断选择的日期</h2><h3 id="判断选择的日期是否是本月"><a href="#判断选择的日期是否是本月" class="headerlink" title="判断选择的日期是否是本月"></a>判断选择的日期是否是本月</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isThisMonth</span><span class="params">(<span class="keyword">long</span> time)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> isThisTime(time,<span class="string">"yyyy-MM"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="判断选择的日期是否是本周"><a href="#判断选择的日期是否是本周" class="headerlink" title="判断选择的日期是否是本周"></a>判断选择的日期是否是本周</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isThisWeek</span><span class="params">(<span class="keyword">long</span> time)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Calendar calendar = Calendar.getInstance();</span><br><span class="line">    <span class="keyword">int</span> currentWeek = calendar.get(Calendar.WEEK_OF_YEAR);</span><br><span class="line">    calendar.setTime(<span class="keyword">new</span> Date(time));</span><br><span class="line">    <span class="keyword">int</span> paramWeek = calendar.get(Calendar.WEEK_OF_YEAR);</span><br><span class="line">    <span class="keyword">if</span>(paramWeek==currentWeek) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="判断选择的日期是否是今天"><a href="#判断选择的日期是否是今天" class="headerlink" title="判断选择的日期是否是今天"></a>判断选择的日期是否是今天</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isToday</span><span class="params">(<span class="keyword">long</span> time)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> isThisTime(time,<span class="string">"yyyy-MM-dd"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="处理时间对比的类"><a href="#处理时间对比的类" class="headerlink" title="处理时间对比的类"></a>处理时间对比的类</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isThisTime</span><span class="params">(<span class="keyword">long</span> time,String pattern)</span> </span>&#123;</span><br><span class="line">    Date date = <span class="keyword">new</span> Date(time);</span><br><span class="line">    SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat(pattern);</span><br><span class="line">    String param = sdf.format(date);<span class="comment">//参数时间</span></span><br><span class="line">    String now = sdf.format(<span class="keyword">new</span> Date());<span class="comment">//当前时间</span></span><br><span class="line">    <span class="keyword">if</span>(param.equals(now)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="判断当前时间是否在-startTime-endTime-区间，注意时间格式要一致"><a href="#判断当前时间是否在-startTime-endTime-区间，注意时间格式要一致" class="headerlink" title="判断当前时间是否在[startTime, endTime]区间，注意时间格式要一致"></a>判断当前时间是否在[startTime, endTime]区间，注意时间格式要一致</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isEffectiveDate</span><span class="params">(Date nowTime, Date startTime, Date endTime)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (nowTime.getTime() == startTime.getTime() || nowTime.getTime() == endTime.getTime())</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">if</span> (nowTime.after(startTime) &amp;&amp; nowTime.before(endTime)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>最后可能想到什么更新什么、看具体遇见的需求，有更新的我会在更新的</p><blockquote><p>最后更新时间2018-12-31 12:00:00</p></blockquote><p>最后附上我的工具类的<a href="https://github.com/Lucas-Liang/ToolPackage/blob/master/src/Time/TimeUtils.java" target="_blank" rel="noopener">TiemUtils</a> </p><blockquote><p>我在网上写的文章、项目都可以转载，但请注明出处，这是我唯一的要求。当然纯我个人原创的成果被转载了，不注明出处也是没有关系的，但是由我转载或者借鉴了别人的成果的请注明他人的出处，算是对前辈们的一种尊重吧！</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 工具类 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> 工具类 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>你好世界</title>
      <link href="/2018/12/31/%E4%BD%A0%E5%A5%BD%EF%BC%8C%E4%B8%96%E7%95%8C/"/>
      <url>/2018/12/31/%E4%BD%A0%E5%A5%BD%EF%BC%8C%E4%B8%96%E7%95%8C/</url>
      
        <content type="html"><![CDATA[<h2 id="你好世界"><a href="#你好世界" class="headerlink" title="你好世界"></a>你好世界</h2><p>Hello world！这是我在Wordpress上第二次发布这个信息了。</p><p>第一次是在本地机器上，这次是真正在网站上发布了。</p><meta http-equiv="refresh" content="0.1">]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
